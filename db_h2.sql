-- H2 2.2.224;
;             
CREATE USER IF NOT EXISTS "SA" SALT '42e4847d5390824f' HASH 'ae0c84055711bf332ef9b566c26f5e89a0adea9bd8f6536ee63e1950c3ccbe60' ADMIN;         
CREATE MEMORY TABLE "PUBLIC"."EVENT"(
    "DUREE" INTEGER NOT NULL,
    "NB_PARTICIPANT_MAX" INTEGER NOT NULL,
    "DATE_DEBUT" TIMESTAMP(6),
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "DESCRIPTION" CHARACTER VARYING(255),
    "ORGANISATEUR" CHARACTER VARYING(255),
    "THEME" CHARACTER VARYING(255),
    "TITRE" CHARACTER VARYING(255),
    "TYPE_EVENT" CHARACTER VARYING(255)
);      
ALTER TABLE "PUBLIC"."EVENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.EVENT;   
CREATE MEMORY TABLE "PUBLIC"."PARTICIPANT"(
    "DATE_NAISS" TIMESTAMP(6),
    "EVENT_ID" BIGINT,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "EMAIL" CHARACTER VARYING(255),
    "NOM" CHARACTER VARYING(255),
    "OBSERVATION" CHARACTER VARYING(255),
    "ORGANISATION" CHARACTER VARYING(255),
    "PRENOM" CHARACTER VARYING(255)
);         
ALTER TABLE "PUBLIC"."PARTICIPANT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A" PRIMARY KEY("ID");  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PARTICIPANT;             
ALTER TABLE "PUBLIC"."PARTICIPANT" ADD CONSTRAINT "PUBLIC"."FKOJEQKVV72XCX0YTDQKIK7OBJQ" FOREIGN KEY("EVENT_ID") REFERENCES "PUBLIC"."EVENT"("ID") NOCHECK;   
